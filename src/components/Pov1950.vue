<template>
  <div class="modal show d-block" tabindex="-1">
    <div class="modal-backdrop" @click="closeModal"></div>
    <div class="modal-dialog modal-dialog-scrollable" role="document">
      <div class="modal-content custom-modal-color text-white" :class="{ 'modal-enter': isActive }">
        <div class="modal-header">
          <h1 class="modal-title fs-1">POV Vibe 1950</h1>
          <button
            type="button"
            class="btn-close btn-close-white"
            aria-label="Close"
            @click="closeModal"
          ></button>
        </div>
        <div class="modal-body">
          <div class="text-center">
            <div class="d-flex justify-content-center mb-3"></div>

            <!-- Related Videos Section -->
            <div class="video-container">
              <div class="iframe-wrapper">
                <iframe
                  width="320"
                  height="180"
                  src="https://www.youtube.com/embed/UuTTGYqXQlo?si=_4XIMfSapriMcsR6"
                  title="YouTube video player"
                  frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  referrerpolicy="strict-origin-when-cross-origin"
                  allowfullscreen
                ></iframe>
              </div>
              <br />
            </div>

            <br />
            
            <!-- Content Box -->
            <div class="content-box">
              <br />
              <h5 class="mb-3" style="font-weight: bold;" >&nbsp;ê·¸ë‚ ì˜ ì „ì„ </h5>
            <p class="movie-description"></p>
            <br />
            <div class="vibe-lyrics">
              <p>
                í‰í™”ë¡­ë˜ ê±°ë¦¬ì— ì´ì„±ì´ ìš¸ë¦¬ê³ <br />
                ê°‘ì‘ìŠ¤ë ˆ ë¶ˆë¦° ì´ë¦„ë“¤ ë– ë‚œ ê¸¸ ìœ„ì—<br />
                ì „ìŸì€ í˜•ì œì˜ ì‚¶ì„ ê°ˆë¼ë†“ì•˜ê³ <br />
                í˜•ì€ ë™ìƒì„ ìœ„í•´ ëª¨ë“  ê±¸ ê±¸ì—ˆë„¤<br />
              </p>
              <p>
                í¬í•­ì˜ ì–¸ë•ì—” ì–´ë¦° ì†ì´ ë“¤ì—ˆë˜<br />
                ìµìˆ™ì§€ ì•Šì€ ì´ê³¼ í”ë“¤ë¦¬ëŠ” ìš©ê¸°<br />
                ê·¸ë“¤ì€ ë§ˆì§€ë§‰ ì „ì„ ì„ ì§€í‚¤ë ¤ í–ˆê³ <br />
                êµì‹¤ì—” ì¹¨ë¬µë§Œì´ ê¹Šê²Œ ë‚¨ì•˜ë„¤<br />
              </p>
              <p>
                ë©€ì–´ì§€ëŠ” ê³ í–¥ê³¼ ë¹›ë°”ëœ ê¿ˆ<br />
                ì†Œë¦¬ ì—†ì´ ë‚´ë ¤ì•‰ì€ ë¨¼ì§€ ì†ì˜ ê¸¸<br />
                ë‚¨ê²¨ì§„ ì´ë¦„ë“¤ì€ ê¸°ì–µ ì†ì— ì‚´ì•„<br />
                ê·¸ë‚ ì˜ ì „ì„ ì€ ì‚¬ë¼ì§€ì§€ ì•Šìœ¼ë¦¬<br />
              </p>
              <p>
                ì–´ë‘  ì† íŒŒë„ë¥¼ ë„˜ì–´ ì¸ì²œì— ë‹¿ì•„<br />
                ê¸°ì ì²˜ëŸ¼ ì—´ë ¸ë˜ ì „ì„¸ì˜ ìƒˆë²½<br />
                ì²©ë³´ ì† ìˆ¨ê²¨ì§„ ëª©ìˆ¨ì˜ ë¬´ê²Œë¡œ<br />
                ë°”ë‹¤ëŠ” ì—¬ì „íˆ ì°¨ê°‘ê²Œ ì¶œë ì˜€ì§€<br />
              </p>
              <p>
                íœ´ì „ì˜ ì‹œê°„ì—ë„ ë©ˆì¶”ì§€ ì•Šë˜ ì‹¸ì›€<br />
                ê³ ì§€ë§ˆë‹¤ ìŒ“ì¸ í”¼ë¡œ ë‚¨ì€ í”ì ë“¤<br />
                ëì´ ë³´ì´ì§€ ì•ŠëŠ” í•˜ëŠ˜ ì•„ë˜ ë³‘ì‚¬ë“¤<br />
                ê·¸ë“¤ì€ ë¬´ì—‡ì„ ìœ„í•´ ì‹¸ìš°ê³  ìˆì—ˆë‚˜<br />
              </p>
              <p>
                ë©€ì–´ì§€ëŠ” ê³ í–¥ê³¼ ë¹›ë°”ëœ ê¿ˆ<br />
                ì†Œë¦¬ ì—†ì´ ë‚´ë ¤ì•‰ì€ ë¨¼ì§€ ì†ì˜ ê¸¸<br />
                ë‚¨ê²¨ì§„ ì´ë¦„ë“¤ì€ ê¸°ì–µ ì†ì— ì‚´ì•„<br />
                ê·¸ë‚ ì˜ ì „ì„ ì€ ì‚¬ë¼ì§€ì§€ ì•Šìœ¼ë¦¬<br />
              </p>
              <p>
                íœ´ì „ì˜ ì‹œê°„ì—ë„ ë©ˆì¶”ì§€ ì•Šë˜ ì‹¸ì›€<br />
                ê³ ì§€ë§ˆë‹¤ ìŒ“ì¸ í”¼ë¡œ ë‚¨ì€ í”ì ë“¤<br />
                ëì´ ë³´ì´ì§€ ì•ŠëŠ” í•˜ëŠ˜ ì•„ë˜ ë³‘ì‚¬ë“¤<br />
                ê·¸ë“¤ì€ ë¬´ì—‡ì„ ìœ„í•´ ì‹¸ìš°ê³  ìˆì—ˆë‚˜<br />
              </p>
              <p>
                ê¸¸ì—ˆë˜ ë°¤ì˜ ë, í¬ë¯¸í•œ ë¶ˆë¹›<br />
                ì „ìŸì´ ë‚¨ê¸´ ê±´ ìŠí˜€ì§€ì§€ ì•Šì„ ìš¸ë¦¼<br />
                ê³ ì§€ì™€ ë°”ë‹¤, ê·¸ë¦¬ê³  ê·¸ë“¤ì˜ ì´ì•¼ê¸°<br />
                ì´ì œëŠ” ì‹œê°„ ì†ì— ì¡°ìš©íˆ ìŠ¤ë©°ë“¤ë¦¬
              </p>
            </div>
          </div>

        </div>

        <br />
        <hr />

          <div>
            <h5 class="vibe-relatedmovies">&nbsp;ğŸ¬ ê´€ë ¨ ì˜í™” ì •ë³´</h5>
            <br />
              <div class="movie-grid">
                <div 
                  v-for="movie in relatedMovies" 
                  :key="movie.id" 
                  class="movie-item"
                  @click="handleMovieClick(movie)"
                >
                  <div class="poster-wrapper">
                    <img 
                      :src="movie.imageUrl" 
                      :alt="movie.title"
                      class="movie-poster"
                    />
                    <div class="movie-title">
                      <h6>{{ movie.title }}</h6>
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MovieModal ì¶”ê°€ -->
    <MovieModal 
      v-if="isMovieModalOpen"
      :is-open="isMovieModalOpen"
      :movie="selectedMovie"
      @close="isMovieModalOpen = false"
    />
  </div>
</template>

<script>
// script ë¶€ë¶„ì€ ë³€ê²½ì‚¬í•­ì´ ì—†ìœ¼ë¯€ë¡œ ê·¸ëŒ€ë¡œ ìœ ì§€
import pov1950Logo from "@/assets/1950 Vibe.png";

import movies from "@/assets/movies.js";  
import MovieModal from './MovieModal.vue';

import íƒœê·¹ê¸°íœ˜ë‚ ë¦¬ë©° from '@/assets/posters/íƒœê·¹ê¸°íœ˜ë‚ ë¦¬ë©°.jpg';
import í¬í™”ì†ìœ¼ë¡œ from '@/assets/posters/í¬í™”ì†ìœ¼ë¡œ.jpg';
import ì¥ì‚¬ë¦¬ from '@/assets/posters/ì¥ì‚¬ë¦¬.jpg';
import ì¸ì²œìƒë¥™ì‘ì „ from '@/assets/posters/ì¸ì²œìƒë¥™ì‘ì „.jpg';
import ì›°ì»´íˆ¬ë™ë§‰ê³¨ from '@/assets/posters/ì›°ì»´íˆ¬ë™ë§‰ê³¨.jpg';
import ê³ ì§€ì „ from '@/assets/posters/ê³ ì§€ì „.jpg';

export default {
  name: "Pov1950",
  components: {
    MovieModal
  },
  props: {
    isOpen: {
      type: Boolean,
      required: true,
    },
  },
  data() {
    return {
      pov1950Logo: pov1950Logo,
      isActive: false,
      isMovieModalOpen: false,
      selectedMovie: null,
      relatedMovies: [
        {
          id: 13,
          title: 'íƒœê·¹ê¸° íœ˜ë‚ ë¦¬ë©°',
          imageUrl: íƒœê·¹ê¸°íœ˜ë‚ ë¦¬ë©°,
          summary: '1950ë…„ í•œêµ­ì „ìŸ, í˜•ì œì˜ ìƒì¡´ì„ ìœ„í•œ ì²˜ì ˆí•œ íˆ¬ìŸì´ ì‹œì‘ëœë‹¤...'
        },
        {
          id: 14,
          title: 'í¬í™” ì†ìœ¼ë¡œ',
          imageUrl: í¬í™”ì†ìœ¼ë¡œ,
          summary: 'í¬í™”ê°€ ëª°ì•„ì¹˜ëŠ” ì „ìŸí„°ì—ì„œ í•™ë„ë³‘ë“¤ì˜ í¬ìƒê³¼ ìš©ê¸°ë¥¼ ë‹´ì•„ë‚¸ ì´ì•¼ê¸°...'
        },
        {
          id: 15,
          title: 'ì¥ì‚¬ë¦¬',
          imageUrl: ì¥ì‚¬ë¦¬,
          summary: 'ë¯¸ì™„ì˜ ìŠ¹ë¦¬, ì´ë¦„ ì—†ëŠ” ì˜ì›…ë“¤ì´ í¼ì¹œ ìˆ¨ê²¨ì§„ ì „íˆ¬ ì´ì•¼ê¸°...'
        },
        {
          id: 16,
          title: 'ì¸ì²œìƒë¥™ì‘ì „',
          imageUrl: ì¸ì²œìƒë¥™ì‘ì „,
          summary: 'ë§¥ì•„ë” ì¥êµ°ê³¼ ìš©ì‚¬ë“¤ì˜ ì „ëµì  ì „íˆ¬ë¡œ ì „ìŸì˜ íŒë„ë¥¼ ë°”ê¾¸ë‹¤...'
        },
        {
          id: 17,
          title: 'ì›°ì»´ íˆ¬ ë™ë§‰ê³¨',
          imageUrl: ì›°ì»´íˆ¬ë™ë§‰ê³¨,
          summary: 'ì „ìŸ ì¤‘ì—ë„ í‰í™”ê°€ ìˆ¨ì‰¬ëŠ” ë§ˆì„, ë™ë§‰ê³¨ì—ì„œ ë²Œì–´ì§€ëŠ” ë”°ëœ»í•œ ì´ì•¼ê¸°...'
        },
        {
          id: 18,
          title: 'ê³ ì§€ì „',
          imageUrl: ê³ ì§€ì „,
          summary: 'ëë‚˜ì§€ ì•ŠëŠ” ê³ ì§€ ìŸíƒˆì „, ê·¸ ì†ì— ìˆ¨ê²¨ì§„ ì§„ì‹¤ì„ íŒŒí—¤ì¹œë‹¤...'
        }
      ]
    };
  },
  mounted() {
    requestAnimationFrame(() => {
      this.isActive = true;
    });
  },
  methods: {
    closeModal() {
      this.isActive = false;
      setTimeout(() => {
        this.$emit("close");
      }, 300);
    },
    handleMovieClick(movie) {
      this.selectedMovie = movies.find(m => m.id === movie.id);
      this.isMovieModalOpen = true;
    }
  }
};
</script>

<style scoped>
/* ëª¨ë‹¬ ë°°ê²½ìƒ‰ ë³€ê²½ */
.custom-modal-color {
  background-color: #333;
  color: #ecf0f1;
  max-width: 100%;
  overflow-x: hidden;
}

/* í—¤ë”ì™€ í‘¸í„°ì˜ ìŠ¤íƒ€ì¼ ë³€ê²½ */
.modal-header {
  background-color: #333;
  border-bottom: 1px solid #95a5a6;
  padding: 1rem 1.5rem;
  font-family: "Pretendard-SemiBold";
}

.modal-body {
  background-color: #333;
  border-top: 1px solid #95a5a6;
  font-family: "Pretendard-Light";
  padding: 2rem;
  overflow-x: hidden;
  overflow-y: auto;
  text-align: center;
  width: 100%;
}

.modal-image {
  max-width: 40%;
  max-height: 50vh;
  object-fit: cover;
  border-radius: 4px;
}

/* ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸ ìŠ¤íƒ€ì¼ */
.modal-dialog {
  margin: 1.75rem auto;
  width: 90%;
  max-width: 800px;
  transition: all 0.3s ease;
}

.modal-content {
  background-color: #333;
  transition: all 0.3s ease;
  max-width: 100%;
  overflow-x: hidden;
  transform: translateY(20px);
  opacity: 0;
}

/* íŠ¸ëœì§€ì…˜ ìŠ¤íƒ€ì¼ */
.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal-enter {
  transform: translateY(0);
  opacity: 1;
}

/* ëª¨ë‹¬ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
.modal.show {
  display: block;
}

.modal {
  z-index: 1050;
}

/* ë¹„ë””ì˜¤ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
.video-container {
  position: relative;
  width: 100%;
  max-width: 100%;
  height: 0;
  margin: 1rem auto;
  padding-top: 56.25%; /* 16:9 ë¹„ìœ¨ */
}

.iframe-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.iframe-wrapper iframe {
  width: 100%;
  height: 100%;
  border: 0;
}

/* ì½˜í…ì¸  ë°•ìŠ¤ */
.content-box {
  background-color: #555; /* ë°•ìŠ¤ ë°°ê²½ìƒ‰ */
  padding: 20px; /* ë‚´ë¶€ ì—¬ë°± */
  border-radius: 8px; /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
  margin: 20px; /* ì™¸ë¶€ ì—¬ë°± */
}

.vibe-titles {
  font-family: "Pretendard-SemiBold";
  font-size: 1.5rem;
}

.vibe-lyrics {
  font-family: "Pretendard-Light";
  font-size: 1rem;
}

hr {
  width : 50%;
  height : 50px;
  text-align: center;
  margin: 0px auto;
}

.vibe-relatedmovies {
  font-family: "Pretendard-SemiBold";
  font-size: 1.5rem;
}

/* ê´€ë ¨ ì˜í™” ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
.movie-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-top: 1rem;
  width: 100%;
  max-width: 100%;
}

.movie-item {
  width: 100%;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.movie-item:hover {
  transform: scale(1.05);
}

.poster-wrapper {
  width: 100%;
  position: relative;
  border-radius: 8px;
  overflow: hidden;
}

.movie-poster {
  width: 100%;
  aspect-ratio: 2/3;
  object-fit: cover;
  border-radius: 8px;
}

.movie-title {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  padding: 0.5rem;
  color: white;
}

.movie-title h6 {
  margin: 0;
  font-size: 0.9rem;
  text-align: center;
}

/* ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
@media (min-width: 992px) {
  .modal-dialog {
    width: 50%;
  }
}

@media (max-width: 991.98px) {
  .modal-dialog {
    width: 65%;
    margin: 1rem auto;
  }
}

@media (max-width: 768px) {
  .modal-dialog {
    width: 85%;
    margin: 0.5rem auto;
  }
  
  .modal-header {
    padding: 1rem;
  }

  .modal-body {
    padding: 1rem;
  }

  .movie-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
  }
  
  .video-container {
    margin: 0.5rem auto;
  }
}

@media (max-width: 480px) {
  .movie-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
  }
}
</style>